<template id="rm-data">
        <div class="accordion">
            <div class="accordion-item border-secondary">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button bg-success text-light" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                <div class="accordion-body bg-dark">
                    <p class="name text-light"></p>
                    <p class ="airdate text-light"></p>
                    <p class ="episode text-light"></p>
                </div>
              </div>
            </div>
  </template>
  
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>Episodes - Rick and Morty</title>
      <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
        crossorigin="anonymous"
      />
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <link
        href="https://fonts.googleapis.com/css2?family=Creepster&display=swap"
        rel="stylesheet"
      />
      <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
      
      <!-- Top Nav Bar -->
      <nav class="navbar fixed-top bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand text-success" href="index.html">
            <img src="./docs/logo2.png" alt="Rick and Morty" height="50" />
          Rick and Morty</a>
          <div class = "justify-content-center gap-2">
            <button type="button" onclick="changePage(false)" class="btn btn-success">
              Previous
            </button>
            <button type="button" onclick="changePage(true)" class="btn btn-success">
              Next
            </button>
            <div class = "text-center text-light" id = "page-counter">Page 1 of 3</div>
          </div>
          <div class="btn-group" id = "menu">
            <button
              class="btn btn-success btn-lg dropdown-toggle"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              Menu
            </button>
            <ul class="dropdown-menu dropdown-menu-end text-center w-100">
              <li><a class="dropdown-item" href="characters.html">Characters</a></li>
              <li><a class="dropdown-item" href="episodes.html">Episodes</a></li>
              <li><a class="dropdown-item" href="locations.html">Locations</a></li>
            </ul>
          </div>
        </div>
      </nav>
      
      <!-- Main content  -->
      <div class = "main">
      <h1 class = "link header container-fluid">Episodes</h1>
      <div
        id="rmdata" class="container-fluid mx-auto row g-4">
        
        </div>  
      </div> 
        
        <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"
      ></script>
    </body>
    
    <script>
      //fetch and display data in template
      function fetchData() {
        document.querySelector("#rmdata").innerHTML="";
        fetch("https://rickandmortyapi.com/api/episode?page=" +currentPage)
          .then((response) => response.json())
          .then((data) => {
            data.results.forEach((post) => {
              const template = document
                .getElementById("rm-data")
                .content.cloneNode(true);
              template.querySelector(".accordion-button").innerText = (`Episode ${post.id}: ${post.name}`);
              template.querySelector(".accordion-button").setAttribute("data-bs-target", "#collapse" + post.id);
              template.querySelector(".accordion-collapse").id = "collapse" + post.id
              template.querySelector(".name").innerText = (`Name: ${post.name}`);
              template.querySelector(".airdate").innerText = (`Air Date: ${post.air_date}`);
              template.querySelector(".episode").innerText = (`Episode: ${post.episode}`);
              document.querySelector("#rmdata").appendChild(template);
            });
          });
      }    
      
      //edit fetch source to different page number
      let currentPage = 1;
  
      function changePage(isNext) {
        if (isNext) {
          currentPage = (currentPage <3) ? currentPage + 1 : 3
        }
        else {
          currentPage = (currentPage > 1) ? currentPage - 1 : 1
        }
        fetchData();
        document.getElementById("page-counter").innerHTML= (`Page ${currentPage} of 3`)
      }
      fetchData();
  
    </script>     
    

  </html>
  